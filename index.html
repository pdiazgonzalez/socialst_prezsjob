
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Social Studies - Unit 1</title>
  <style>
    body { font-family: Verdana, sans-serif; line-height: 1.6; margin: 20px; font-size: 1.4em; }
    h1, h2, h3 { text-align: center; }
    .container { max-width: 1200px; margin: auto; }
    .question { margin-bottom: 20px; }
    .correct { background-color: #d4edda; }
    .incorrect { background-color: #f8d7da; }
    .feedback { font-weight: bold; margin-top: 5px; }
    input[type="checkbox"] { transform: scale(2.5); margin: 10px; background-color: blue; }
    input[type="radio"] { transform: scale(2.5); margin: 10px; background-color: blue; }
    button[type="submit"] {
      width: 350px; height: 80px; padding: 10px 20px;
      background-color: #4CAF50; color: white; font-size: 1.5em; margin: 30px;
    }
    #teacherName {
      width: 280px; height: 60px; padding: 8px; border: 1px solid #ccc; border-radius: 4px;
      font-family: Georgia, serif; font-size: 24px; color: #333; background-color: #fcfc03;
    }
    hr.rounded { border-top: 15px solid #bbb; border-radius: 5px; }
    .unanswered { border: 2px solid red; background-color: #ffe6e6; padding: 8px; border-radius: 5px; }
  </style>
</head>
<body>

<div class="container">
  <h2>Social Studies - Unit 1</h2>

  <h4 style="text-align: center; font-size: 30px">Standards</h4>
  <p style="text-align: left; font-size: 16px;"><strong>SS.4.CV.1.:</strong> Explain the roles and responsibilities of government officials at the local, state, and national levels and investigate how the roles and responsibilities of government have changed over time.</p>

  <h2>Directions</h2>
  <p>Read the text and answer the questions below.</p>

  <h1>The President's Job</h1>
  <p style="text-align: center"><strong>By USHistory.org, adapted by Newsela staff on 02.13.17</strong></p>

  <img src="https://github.com/pdiazgonzalez/socialst_prezsjob/blob/main/Prezs_Job.jpg?raw=true" alt="President's Job" style="display: block; margin: auto; width: 100%;">

  <p><strong>1.</strong> Just what exactly does the president of the United States do all day?</p>
  <p><strong>2.</strong> The modern presidency is a very big job. The power and responsibilities involved keep growing.  Some even say that it's impossible for one person to handle it all.</p>
  <p><strong>    Commander In Chief And Crisis Manager</strong></p>
  <p><strong>3.</strong> The U.S. Constitution says the president is the commander in chief. That means the president leads the country's entire military. Over time, this job has expanded. It has grown into the important role of "crisis manager." A crisis is a difficult situation that needs attention.</p>
  <p><strong>4.</strong> Over the years, the United States has become a world leader. The president is now an important player in international emergencies. These situations may include wars and other, smaller disputes. When a crisis erupts, the president must go into "emergency mode" to handle the problem.</p>
  <p><strong>5.</strong> Emergencies happen in our country, too. For example, hurricanes, forest fires and other natural disasters put people in danger. The president works with advisors to plan how the government will help in these situations.</p>
   <figure><img src="https://github.com/pdiazgonzalez/socialst_prezsjob/blob/main/Trump.jpg?raw=true" alt="Donald Trump" style="display: block; margin: auto; width: 67%;">
   <figcaption><em>Image 1. President Donald Trump speaks to members of the U.S. Navy and shipyard workers on March 2, 2017, in Newport News, Virginia. Photo from: Mark Wilson/Getty Images.</em></figcaption>
   </figure>
  <p><strong>    Ceremonial Duties</strong></p>
  <p><strong>6.</strong> More than anyone else, the president symbolizes the country. This means presidents stand for the country's people and ideas.  In this role, a president performs many ceremonial duties.  Presidents host government officials from other countries. They attend important events and wave to the crowds. They even throw the first baseball of the season! These actions may seem silly. They are important, though. Presidents must show confidence in themselves and in the American people. This gives the people confidence, too.</p>
   <figure><img src="https://github.com/pdiazgonzalez/socialst_prezsjob/blob/main/LBJ.jpg?raw=true" alt="Lyndon Johnson" style="display: block; margin: auto; width: 67%;">
   <figcaption><em>Image 2. President Lyndon Johnson throws out the first pitch of the 1967 baseball season at District of Columbia Stadium, Washington, D.C. Photo from: Arnold Sachs/Getty Images.</em></figcaption>
   </figure>
  <p><strong>7.</strong> The United States government has three branches: executive, legislative and judicial. The president leads the executive branch. He or she is responsible for seeing that the work of government gets done. A famous sign sat on President Harry Truman's desk. It said, "The buck stops here." The responsibility to carry out the laws of the land rests on the president's shoulders.</p>
  <p><strong>8.</strong> The president appoints many people to government jobs. These positions include Cabinet members and Supreme Court justices. Top military leaders and leaders of government agencies are also appointed by the president. Lawmakers get to vote on some of these appointments. Still, the president hires more than 4,000 people to the government. That's a big responsibility.</p>
  <p><strong>    Setting The Agenda</strong></p>
  <p><strong>9.</strong> The founders who wrote the Constitution thought Congress should propose laws. Congress is the legislative, or lawmaking, branch of government. Today, however, presidents enter office with their own agenda. They have their own plans for things like taxes and education. Now presidents often recommend laws to Congress. When they make decisions involving other countries, they often act first and talk to Congress later.</p>
    <p><strong>10.</strong> Each year the president gives the State of the Union address.  This speech comes in January when Congress starts a new term.  Presidents often use this speech to share their vision for the country. Modern presidents also use TV and other media to explain their ideas. This way, the public knows what the president wants. This places pressure on lawmakers to act.</p>
  <p><strong>11.</strong> A president sometimes threatens to veto a bill. A veto means that the president will not sign a bill into law. The threat of a veto may make legislators rethink the bill. They don't want to send a bill to the president that will be vetoed.</p>
   <figure><img src="https://github.com/pdiazgonzalez/socialst_prezsjob/blob/main/Obama.jpg?raw=true" alt="Barack Obama" style="display: block; margin: auto; width: 67%;">
   <figcaption><em>Image 3. President Barack Obama gestures as he delivers his last State of the Union speech before members of Congress on January 12, 2016 in Washington, D.C. Photo from: Chip Somodevilla/Getty Images.</em></figcaption>
   </figure>
  <p><strong>    "More Work Than A Man Can Do"</strong></p>
  <p><strong>12.</strong> Can any one person successfully hold the president's job? The great author John Steinbeck did not think so. "We give the president more work than a man can do, more responsibility than a man should take, more pressure than a man can bear," he wrote.</p>
  <p><strong>13.</strong> Still, presidents have somehow managed to bear the difficulties of office.</p>
  
  <h2>Questions</h2>

  <!-- onsubmit removed; JS handles submission -->
  <form id="quizForm">
    <!-- 1 -->
    <div class="question" data-answer="b" data-type="radio" data-name="q1">
      <p><strong>1. According to the text, what is the main responsibility of the president as Commander in Chief?</strong></p>
      <label for="q1_a"><input type="radio" name="q1" value="a" id="q1_a"> a) Throwing the first baseball of the season.</label><br>
      <label for="q1_b"><input type="radio" name="q1" value="b" id="q1_b"> b) Leading the entire U.S. military.</label><br>
      <label for="q1_c"><input type="radio" name="q1" value="c" id="q1_c"> c) Hosting government officials.</label><br>
      <label for="q1_d"><input type="radio" name="q1" value="d" id="q1_d"> d) Giving speeches on TV.</label>
    </div>

    <!-- 2 -->
    <div class="question" data-answer="c" data-type="radio" data-name="q2">
      <p><strong>2. What was the meaning of the sign "The buck stops here" on President Truman's desk?</strong></p>
      <label for="q2_a"><input type="radio" name="q2" value="a" id="q2_a"> a) The president handles all money matters</label><br>
      <label for="q2_b"><input type="radio" name="q2" value="b" id="q2_b"> b) The president makes all final decisions</label><br>
      <label for="q2_c"><input type="radio" name="q2" value="c" id="q2_c"> c) The president is responsible for carrying out the laws</label><br>
      <label for="q2_d"><input type="radio" name="q2" value="d" id="q2_d"> d) The president stops all disagreements</label>
    </div>

    <!-- 3 -->
    <div class="question" data-answer="d" data-type="radio" data-name="q3">
      <p><strong>3. What is the purpose of the State of the Union address?</strong></p>
      <label for="q3_a"><input type="radio" name="q3" value="a" id="q3_a"> a) To declare war on other countries</label><br>
      <label for="q3_b"><input type="radio" name="q3" value="b" id="q3_b"> b) To appoint Supreme Court justices</label><br>
      <label for="q3_c"><input type="radio" name="q3" value="c" id="q3_c"> c) To handle natural disasters</label><br>
      <label for="q3_d"><input type="radio" name="q3" value="d" id="q3_d"> d) To share the president's vision for the country</label>
    </div>

    <!-- 4 -->
    <div class="question" data-answer="c" data-type="radio" data-name="q4">
      <p><strong>4. What does the word "ceremonial" mean in the context of presidential duties?</strong></p>
      <label for="q4_a"><input type="radio" name="q4" value="a" id="q4_a"> a) Emergency responsibilities</label><br>
      <label for="q4_b"><input type="radio" name="q4" value="b" id="q4_b"> b) Military operations</label><br>
      <label for="q4_c"><input type="radio" name="q4" value="c" id="q4_c"> c) Official or formal activities</label><br>
      <label for="q4_d"><input type="radio" name="q4" value="d" id="q4_d"> d) Secret meetings</label>
    </div>

      <!-- 5 -->
    <div class="question" data-answer="a" data-type="radio" data-name="q5">
      <p><strong>5. What branch of the federal government does the President belong to?</strong></p>
      <label for="q5_a"><input type="radio" name="q5" value="a" id="q5_a"> a) Executive Branch</label><br>
      <label for="q5_b"><input type="radio" name="q5" value="b" id="q5_b"> b) Legislative Branch</label><br>
      <label for="q5_c"><input type="radio" name="q5" value="c" id="q5_c"> c) Judicial Branch</label><br>
      <label for="q5_d"><input type="radio" name="q5" value="d" id="q5_d"> d) State Branch</label>
    </div>

    <hr class="rounded">
    <p style="text-align: center; font-size: 40px; color: brown;"><b>This is the end of the quiz.</b></p>
    <p style="text-align: left; font-size: 28px; color: brown;"><em>Make sure you:</em></p>
    <ul>
      <li style="color: brown;">Check your answers before submitting the test.</li>
      <li style="color: brown;">Type in your <b>name</b> and <b>last name</b> <u>correctly</u></li>
      <li style="color: brown;">Enter <u>your</u> <b>teacher</b>'s name.</li>
    </ul>
    <p style="font-size: 28px; color: brown;"><em>When you are ready, click 'Submit' and your test will be auto-graded.</em></p>

    <hr class="rounded">

    <label>
      <p>
        Name & Last Name (required):
        <input style="width: 400px; height: 45px; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-family: Georgia, serif; font-size: 24px; color: #030303; background-color: #fcfc03;"
               type="text" id="studentName" name="name" placeholder="Type Your Name Here" required aria-label="Student Name">
      </p>
    </label>

    <label>
      <p>
        Teacher (required):
        <select id="teacherName" name="teacher" required aria-label="Teacher">
          <option value="" disabled selected>Select your teacher</option>
          <option value="Becerril">Becerril</option>
          <option value="Cerwin">Cerwin</option>
          <option value="Diaz">Diaz</option>
        </select>
      </p>
    </label>

    <hr class="rounded">
    <div style="text-align: center;">
      <button type="submit" id="submitBtn">Submit</button>
    </div>
  </form>

  <div id="result" style="margin-top:20px; font-weight:bold;"></div>
</div>

<script>
(() => {
  const form = document.getElementById("quizForm");
  const submitBtn = document.getElementById("submitBtn");
  let isSubmitting = false;

  form.addEventListener("submit", async function(e) {
    e.preventDefault();
    if (isSubmitting) return; // prevent double-clicks

    // Validate name & teacher first
    const studentNameEl = document.getElementById("studentName");
    const teacherNameEl = document.getElementById("teacherName");
    studentNameEl.classList.remove("unanswered");
    teacherNameEl.classList.remove("unanswered");

    if (!studentNameEl.value.trim()) {
      alert("⚠️ Please enter your name.");
      studentNameEl.classList.add("unanswered");
      studentNameEl.scrollIntoView({ behavior: "smooth", block: "center" });
      studentNameEl.focus();
      return;
    }
    if (!teacherNameEl.value) {
      alert("⚠️ Please select your teacher.");
      teacherNameEl.classList.add("unanswered");
      teacherNameEl.scrollIntoView({ behavior: "smooth", block: "center" });
      teacherNameEl.focus();
      return;
    }

    // Clear old highlights
    document.querySelectorAll(".question").forEach(q => {
      q.classList.remove("unanswered", "correct", "incorrect");
    });

    // Pass 1: Validation only
    let score = 0;
    let total = 0;
    let openResponses = [];
    let allAnswered = true;
    let firstUnanswered = null;

    document.querySelectorAll(".question").forEach(q => {
      const type = q.dataset.type;
      const name = q.dataset.name;

      if (type === "radio") {
        total++;
        const chosen = document.querySelector(`input[name="${name}"]:checked`);
        if (!chosen) {
          allAnswered = false;
          q.classList.add("unanswered");
          if (!firstUnanswered) firstUnanswered = q;
        }
      } else if (type === "checkbox") {
        total++;
        const selected = Array.from(document.querySelectorAll(`input[name="${name}"]:checked`));
        if (selected.length !== 2) {
          allAnswered = false;
          q.classList.add("unanswered");
          if (!firstUnanswered) firstUnanswered = q;
        }
      } else {
        const textarea = q.querySelector("textarea");
        if (textarea && textarea.value.trim() === "") {
          allAnswered = false;
          q.classList.add("unanswered");
          if (!firstUnanswered) firstUnanswered = q;
        }
      }
    });

    if (!allAnswered) {
      alert("⚠️ Please answer all questions. (Checkbox questions must have exactly TWO choices.)");
      if (firstUnanswered) {
        firstUnanswered.scrollIntoView({ behavior: "smooth", block: "center" });
      }
      return;
    }

    // Pass 2: Grade & collect
    let detailedAnswers = {};
    document.querySelectorAll(".question").forEach(q => {
      const type = q.dataset.type;
      const correct = q.dataset.answer;
      const name = q.dataset.name;
      let studentAnswer = "";

      if (type === "radio") {
        const chosen = document.querySelector(`input[name="${name}"]:checked`);
        studentAnswer = chosen.value;
        if (chosen.value === correct) {
          score++;
          q.classList.add("correct");
        } else {
          q.classList.add("incorrect");
        }
      } else if (type === "checkbox") {
        const selected = Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(cb => cb.value);
        studentAnswer = selected.join(",");
        const correctAnswers = (correct || "").split(",");
        const isCorrect = selected.length === correctAnswers.length && correctAnswers.every(ans => selected.includes(ans));
        if (isCorrect) {
          score++;
          q.classList.add("correct");
        } else {
          q.classList.add("incorrect");
        }
      } else {
        const textarea = q.querySelector("textarea");
        if (textarea) {
          studentAnswer = textarea.value.trim();
          openResponses.push({ question: q.querySelector("p").innerText, answer: studentAnswer });
          q.classList.add("correct"); // recorded
        }
      }

      detailedAnswers[name] = studentAnswer;
    });

    const percent = Math.round((score / total) * 100);
    const studentName = studentNameEl.value.trim();
    const teacherName = teacherNameEl.value;

    // Display report
    let openHTML = "";
    if (openResponses.length > 0) {
      openHTML = "<h3>Open-Ended Responses</h3><ul>";
      openResponses.forEach(r => {
        openHTML += `<li><strong>${r.question}</strong><br>Response: ${r.answer}</li>`;
      });
      openHTML += "</ul>";
    }

    document.getElementById("result").innerHTML = `
      <h3>Student Report Card</h3>
      <p><strong>Student:</strong> ${studentName}</p>
      <p><strong>Teacher:</strong> ${teacherName}</p>
      <p><strong>Score:</strong> ${score} out of ${total} correct (${percent}%).</p>
      <p><em>Note:</em> Only multiple-choice and checkbox questions are auto-graded.</p>
      ${openHTML}
    `;

    // Prepare payload for Google Sheets
    const payload = { studentName, teacherName, score, percent, ...detailedAnswers };
    const formBody = Object.keys(payload)
      .map(key => encodeURIComponent(key) + "=" + encodeURIComponent(payload[key]))
      .join("&");

    // Lock UI & send
    isSubmitting = true;
    const originalBtnText = submitBtn.textContent;
    submitBtn.disabled = true;
    submitBtn.textContent = "Submitting...";

    try {
      const res = await fetch("https://script.google.com/macros/s/AKfycbxQNY2leGF9iPucO9b0IEz36srdaBKfoXm8fjpXvBggsDmDE7Xq1d_2CZCFysWQMkJB/exec", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: formBody
      });
      const data = await res.text();
      console.log("Server response:", data);
      submitBtn.textContent = "Submitted ✓"; // keep disabled to prevent resubmission
      alert("Quiz submitted successfully!");
    } catch (err) {
      console.error("Error:", err);
      alert("There was an error submitting your quiz. Please try again.");
      isSubmitting = false;
      submitBtn.disabled = false;
      submitBtn.textContent = originalBtnText;
    }
  });
})();
</script>

</body>
</html>
